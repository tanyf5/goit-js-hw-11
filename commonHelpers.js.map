{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const baseURL = 'https://pixabay.com/api/';\nconst apiKEY = '43864553-6e6fc803e67c38d9a685f3364';\n\nexport const fetchPhotos = (q = 'sdsdsd') => {\n  const searchParams = new URLSearchParams({\n    key: apiKEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n  });\n  return fetch(`${baseURL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n};\n","export const renderPhotos = images => {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n        </a>\n        <ul class=\"description\">\n          <li class=\"description-item\">\n            <h3>Likes</h3>\n            <p>${likes}</p>\n          </li>\n          <li class=\"description-item\">\n            <h3>Views</h3>\n            <p>${views}</p>\n          </li>\n          <li class=\"description-item\">\n            <h3>Comments</h3>\n            <p>${comments}</p>\n          </li>\n          <li class=\"description-item\">\n            <h3>Downloads</h3>\n            <p>${downloads}</p>\n          </li>\n        </ul>\n      </li>`\n    )\n    .join(''); //create gallery\n};\n","import { fetchPhotos } from './js/pixabay-api.js';\nimport { renderPhotos } from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst ref = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('input'),\n  button: document.querySelector('button'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst bigImg = new SimpleLightbox('.gallery a');\nbigImg.options.captionsData = 'alt';\nbigImg.options.captionDelay = 250;\n\nref.form.addEventListener('submit', event => {\n  event.preventDefault();\n  const input = ref.input.value.trim();\n  ref.gallery.innerHTML = '';\n  if (input) {\n    ref.loader.style = 'display:block';\n    setTimeout(() => {\n      fetchPhotos(input)\n        .then(imgData => {\n          if (imgData.hits.length) {\n            ref.gallery.innerHTML = renderPhotos(imgData.hits);\n            bigImg.refresh();\n          } else {\n            iziToast.warning({\n              message:\n                'Sorry, there are no images matching your search query. Please, try again!',\n              position: 'topRight',\n            });\n          }\n        })\n        .catch(error => {})\n        .finally(() => {\n          ref.loader.style = 'display:none';\n        });\n    }, 500); // setTimeout for checking loader ;-)\n  }\n\n  ref.form.reset();\n});\n\nbigImg.on('show.simplelightbox', () => {});\n"],"names":["baseURL","apiKEY","fetchPhotos","q","searchParams","response","renderPhotos","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","ref","bigImg","SimpleLightbox","event","input","imgData","iziToast","error"],"mappings":"6vBAAA,MAAMA,EAAU,2BACVC,EAAS,qCAEFC,EAAc,CAACC,EAAI,WAAa,CAC3C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAAE,EACA,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACd,CAAG,EACD,OAAO,MAAM,GAAGH,CAAO,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC1D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAEZ,OAAOA,EAAS,MACpB,CAAG,CACH,EClBaC,EAAeC,GACnBA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,wCACgCL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMNC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iBAIRC,CAAS;AAAA;AAAA;AAAA,YAIrB,EACA,KAAK,EAAE,EC/BNC,EAAM,CACV,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,OAAO,EACrC,OAAQ,SAAS,cAAc,QAAQ,EACvC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAS,IAAIC,EAAe,YAAY,EAC9CD,EAAO,QAAQ,aAAe,MAC9BA,EAAO,QAAQ,aAAe,IAE9BD,EAAI,KAAK,iBAAiB,SAAUG,GAAS,CAC3CA,EAAM,eAAc,EACpB,MAAMC,EAAQJ,EAAI,MAAM,MAAM,KAAI,EAClCA,EAAI,QAAQ,UAAY,GACpBI,IACFJ,EAAI,OAAO,MAAQ,gBACnB,WAAW,IAAM,CACfb,EAAYiB,CAAK,EACd,KAAKC,GAAW,CACXA,EAAQ,KAAK,QACfL,EAAI,QAAQ,UAAYT,EAAac,EAAQ,IAAI,EACjDJ,EAAO,QAAO,GAEdK,EAAS,QAAQ,CACf,QACE,4EACF,SAAU,UACxB,CAAa,CAEb,CAAS,EACA,MAAMC,GAAS,EAAE,EACjB,QAAQ,IAAM,CACbP,EAAI,OAAO,MAAQ,cAC7B,CAAS,CACJ,EAAE,GAAG,GAGRA,EAAI,KAAK,OACX,CAAC,EAEDC,EAAO,GAAG,sBAAuB,IAAM,EAAE"}